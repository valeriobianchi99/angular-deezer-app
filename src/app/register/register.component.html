<!-- Register form -->
<form #f="ngForm" [formGroup]="user" novalidate>
    <h3 style="text-shadow: 1px 1px 1px black; font-weight: bold; ">Registrazione</h3>
    <hr>
    <small style="opacity: 0.7; font-size: 10px;">Inserisci i tuoi dati personali per registrarti.</small>
    <mat-form-field>
        <input matInput [formControl]="user.get('firstname')" type="text" placeholder="Nome" maxlength="20" required autocapitalize="words" autocomplete="off">
    </mat-form-field>
    <mat-form-field>
        <input matInput [formControl]="user.get('lastname')" type="text" placeholder="Cognome" maxlength="20" required autocapitalize="words" autocomplete="off">
    </mat-form-field>
    <mat-form-field>
        <input matInput [formControl]="user.get('email')" type="text" placeholder="E-mail" maxlength="40" required autocomplete="off">
    </mat-form-field>
    <mat-form-field>
        <input matInput [formControl]="user.get('username')" type="text" placeholder="Username" maxlength="15" required autocomplete="off">
        <small style="color: red;" *ngIf="invalidUsername()">
            Username già esistente
        </small>
        <small style="opacity: 0.7; font-size: 10px;" *ngIf="!invalidUsername()">Attenzione! Non potrai più modificare il tuo username in futuro.</small>
    </mat-form-field>
    <mat-form-field>
        <input matInput [formControl]="user.get('password')" [type]="type" placeholder="Password" maxlength="20" required autocomplete="off">
        <mat-icon matSuffix style="font-size: 15px; cursor: pointer" *ngIf="user.get('password').value">
            <i class="fas fa-eye" *ngIf="type=='password'" (click)="type='text'"></i>
            <i class="fas fa-eye-slash" *ngIf="type=='text'" (click)="type='password'"></i>
        </mat-icon>
        <small style="opacity: 0.7; font-size: 10px;">Max: 20 caratteri</small>
    </mat-form-field>
    <mat-form-field>
        <input matInput [formControl]="confPassword" type="password" placeholder="Conferma password" maxlength="20" required autocomplete="off">
    </mat-form-field>
    <!-- To Login after registration -->
    <mat-checkbox [formControl]="immediateLogin">Accedi una volta completata la registrazione</mat-checkbox>
    <!---->
    <br>
    <small style="opacity: 0.7; font-size: 10px;">I campi contrassegnati da * sono obbligatori.</small>
    <hr>
    <!-- Bottom buttons -->
    <button id="registerButton" mat-raised-button (click)="register()" [disabled]="f.invalid || user.get('password').value !== confPassword.value || invalidUsername()">
        Registrati
    </button>
    <a routerLink="../login">
        <button mat-raised-button color="warn">Indietro</button>
    </a>
    <!---->
</form>
<!---->